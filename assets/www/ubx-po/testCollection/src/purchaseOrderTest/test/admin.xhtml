<html xmlns:javascript="http://www.w3.org/2002/xforms#inline" xmlns:xsi="http://www.w3.org/2001/XMLSchema-Instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xforms="http://www.w3.org/2002/xforms" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"/><meta name="AUTHOR" content="Erik A. Johnson"/><title>Purchase Order Application XForm</title><script src="../../src/ubiquity-loader.js" type="text/javascript">/**/</script><script src="format.js" type="text/javascript">/**/</script><link href="./style/mainStyle.css" rel="stylesheet"/><link href="./style/gen_default.css" rel="stylesheet"/></head><body class="yui-skin-sam"><xforms:model id="model">  
           <!-- Main inventory listing retreived from the eXist database  --><xforms:instance id="Inventory" src="http://localhost:8080/exist/rest/db/testCollection/testInventorylist.xml"/><xforms:submission id="updateInventory" method="put" includenamespaceprefixes="" action="http://localhost:8080/exist/rest/db/testCollection/testInventorylist.xml"><xforms:message ev:event="xforms-submit-error" level="modal" if="event('error-type')!='validation-error'">Unable to submit. Please try again later.</xforms:message><xforms:message ev:event="xforms-submit-error" level="modal" if="event('error-type')='validation-error'">Some of the data on this form is invalid. Please correct errors and try again.</xforms:message></xforms:submission></xforms:model><xforms:output class="title"><xforms:label>Admin Inventory Listing</xforms:label></xforms:output><hr class="rule"/><p>This page is for use by the ADMIN in the PO test system for changing the inventory in the database.</p><br/><xforms:label>Product Information</xforms:label><xforms:repeat nodeset="/productInventory/product" id="inventoryTable"><br/><br/><xforms:input ref="productName"><xforms:label>Name</xforms:label></xforms:input><xforms:input ref="cost"><xforms:label>Cost</xforms:label></xforms:input><xforms:input ref="image"><xforms:label>Image</xforms:label></xforms:input><xforms:input ref="quantity"><xforms:label>Quantitiy</xforms:label></xforms:input></xforms:repeat><xforms:submit submission="updateInventory" appearance="xf:image"><img class="buttonImage" src="../pngIcons/Arrow up.png"/><xforms:label>Update</xforms:label></xforms:submit><xforms:trigger appearance="xf:image"><img class="buttonImage" src="../pngIcons/Add.png"/><xforms:label>Add</xforms:label><xforms:action ev:event="DOMActivate">
        
           <!-- Insert a new item after the currently indexed item
                (the last focused item before this trigger was activated) --><xforms:insert context="../productInventory" nodeset="product" at="index('inventoryTable')" position="after" origin="./prototype/product"/>
        
           <!-- Send the focus to the new item in the order table --><xforms:setfocus control="inventoryTable"/></xforms:action></xforms:trigger><xforms:trigger appearance="xf:image"><img class="buttonImage" src="../pngIcons/Delete_01.png"/><xforms:label>Delete</xforms:label><xforms:action ev:event="DOMActivate">

       <!-- Delete the currently indexed item --><xforms:delete nodeset="product" at="index('inventoryTable')"/>

       <!-- Insert a blank item if the last one was just deleted --><xforms:insert context="order" origin="../prototype/product" if="count(/productInventory/product)=0"/>
       
       <!-- Put the focus to the indexed item of the order table --><xforms:setfocus control="inventoryTable"/></xforms:action></xforms:trigger></body></html>